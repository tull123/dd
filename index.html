<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">

    <title>我的網站</title>

    <!-- Bootstrap core CSS -->
    <link href="dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="carousel.css" rel="stylesheet">
    
   <script> 
   function colorBlue( ) {
      document.getElementById("XP1").style.color = "blue";  
   }	
   function colorRed( ) {
      document.getElementById("XP1").style.color = "red";  
   }
   function colorBlack( ) {
      document.getElementById("XP1").style.color = "black";  
   }   

   </script> 
 <!-- AJAX -->
    <script type="text/javascript"> 
  function getData(pageName){
  var req = new XMLHttpRequest();  
  req.open("get" , "http://127.0.0.1/"+pageName);
  req.onload=function(){
    var content=document.getElementById("content");
    content.innerHTML=this.responseText;
  }
  req.send();
  }
   </script>



  </head>
    
<body>

<main role="main">

    
<header>
<!--nav導航欄-->
   
<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    
<a class="navbar-brand" href="#">小遊戲</a>

<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">    
</button>
       
    <ul class="navbar-nav mr-auto">
       <li class="nav-item">
              <a class="nav-link" href="randomselect.html">隨機數</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="rpg.html">RPG遊戲</a>
            </li>
              <li class="nav-item">
                <a class="nav-link" href="day.html">日期</a>
            </li>
              <li class="nav-item">
                <a class="nav-link" href="love.html">心理測驗</a>
            </li>
              <li class="nav-item">
                <a class="nav-link" href="music.html">影片</a>
            </li>
              <li class="nav-item">
                <a class="nav-link" href="my.html">自我介紹</a>
            </li>
            </li>
              <li class="nav-item">
                <a class="nav-link" href="RWD.html">RWD</a>
            </li>
    </ul>
    
</nav>
<!--nav導航欄-->
</header>

    
<br/><br/><br/>  

    
<!--標題1;人臉偵測/網路攝影機-->   
<h1 id="bigtitle1"><b>OpenCV人臉偵測&nbsp;/&nbsp;網路攝影機</b></h1>  
    <br/><br/><br/><br/><br/><br/>

<!--標題2:使用設備-->    
<div style="color:red;"class="title12">  <h3><b>
    <img src="http://gifgifs.com/animations/sports/soccer/Bouncing_ball.gif" width="16">   
使用設備 :</b></h3>  </div>

<ul >
    <li class="text1"><b><mark class="PCM1">Raspberry樹莓派     </mark></b></li><br/>
    <li class="text1"><b><mark class="PCM2">羅技網路攝影機PCM-515</mark></b></li><br/>
</ul> <br/>

<!--標題3:網路攝影機簡介-->   
<div class="row">
  
  <div class="col-md-3">
<div style="color: red;" class="title12">
   <pre><h3><b> 網路攝影機簡介 :</b></h3></pre>
</div>
      
<div id="XP01">      
  <button onclick="colorBlue( )">Blue</button>
  <button onclick="colorRed( )">Red</button>
  <button onclick="colorBlack( )">Default</button> 
 
  <div id="XP1">
      <br/> 
  <ol type="I" >
    <li class="text2"><b>專為Win XP/VISTA/7所設計</b></li><br/>
    <li class="text2"><b>採用高級五層玻璃鏡頭      </b></li><br/>
    <li class="text2"><b>即插即用，不需安裝驅動程式 </b></li><br/>
    <li class="text2"><b>內建高感度麥克風收音      </b></li><br/>
    <li class="text2"><b>可調式高亮度 LED燈       </b></li><br/>
  </ol> <br />
  </div>
</div>
</div>
<!--表格-->  
<div class="col-md-9">
<table border="1" >
   <thead>
      <tr><th>應用</th><th>敘述</th></tr>
   </thead>
   <tbody>
      <tr> <td>1.醫療保健</td> <td>大多數現代網路攝錄影機能夠通過使用簡單的演算法技巧捕足動脈脈搏率 研究人員聲稱這種方法準確到±5bpm</td> </tr>
      <tr> <td>2.影片監控</td> <td>網路攝影機被安裝在託兒所、辦公室、商店、公路等地以監控安全和員工活動                        </td> </tr>
      <tr> <td>3.視訊會議</td> <td>用來在兩個或多個地點的多個用戶之間提供語音和運動彩色畫面的雙向實時傳送的視聽對談型會議業務。大型影片會議系統在軍事、政府、商貿、醫療等部門有廣泛的應用  </td> </tr>
      <tr> <td>4.影片通話</td> <td>網路攝影機可以進行即時通訊 , 網路電話 等服務，全球已有數以百萬的用戶進行過一對一的即時影片通訊。<br/>這種新的通訊形式有許多新功能,如自動照明控制、實時濾鏡（潤色）、自動對焦等功能,提供了用戶更多的易用性,這進一步加速了網路攝影機的普及</td> </tr>  
      <tr> <td>5.遊戲控制裝置</td> <td>特殊軟體可以使用網路網路攝影機的影片流來協助或增強用戶對應用和遊戲的控制。可以觀察和跟蹤影片功能，包括臉部，形狀，模型和顏色，以產生相應的控制形式。<br/>例如，可以跟蹤單個光源的位置並用於類比滑鼠指標，頭戴式燈將實現免提計算，並將大大提高電腦可存取性。這可以應用於遊戲，提供額外的控制，改進的互動性和沉浸感。 </td> </tr> 
   </tbody>
   <tfoot>
      <tr><td colspan="3">製作日期2019年1月1日</td></tr>
   </tfoot>
</table>
</div>
</div>

     
<br /><br /><br /><br />
         
<div>
<span onclick="getData(AJAX1.html);">AJAX1</span>
<span onclick="getData(AJAX2.html);">AJAX2</span>
</div>
<div id="content"></div>
  
<!--步驟1-->    



   <div class="title13"><h2><font face="font-family"><b>步驟1>攝影機連接樹莓派</b></font></h2></div>
   <b>攝影機連接樹莓派，在樹莓派輸入指令"sudo apt-get install fswebcam,安裝fswebcam工具，以便往後的執行 </b><br /> 
   <img src="dr/1111.jpg" alt="Generic placeholder image" width="300" height="300" id="img1">

 
   <div class="KKK">
      <div class="A1"><div class="col-md-12">導航欄</div></div>
<div class="A2"><b>標題</b></div>
<div class="A3"><b>使用設備</b></div>

<div class="A4"><b>簡介</b></div>
<div class="A5"><b>表格</b></div>

<div class="A6"><b>步驟1</b></div>
<div class="A7"><b>步驟2</b></div>
<div class="A8"><b>步驟3</b></div>
<div class="A9"><b class="A91">程式碼</b></div>
<div class="A10"><b>測試成果</b></div>
<div class="A11"><b>測試影片</b></div>
<div class="A12"><b>頁尾</b></div>






   </div>


<!--步驟2-->  

<div class="dd22">     
<div class="title13">   
    <h2 class="level"><font face="font-family"><b>步驟2>下載分類器</b></font></h2>
</div> 
    <b>樹莓派下新建一個資料夾取名為img,下載haarcascade_eye.xml及haarcascade_frontalface_default.xml,放進img資料夾內</b><br /> 
    <img  src="dr/2222.png" alt="Generic placeholder image" width="400" height="300" id="img2">





<!--步驟3-->      

<div class="title13">
    <h2 class="level"><font face="font-family"><b>步驟3>撰寫程式碼</b></font></h2>
</div>
    <b>寫完程式後放在img目錄下並執行，即可看到結果，只有人臉辨識到的圖片，會儲存在img目錄下，程式碼如下:</b><br /> 
    <img  src="dr/3333.png" alt="Generic placeholder image" width="400" height="300" id="img3">

    
    <br /><br />   



<!--程式碼-->   
   <div style="color:red;"class="title12"><h2><b>程式碼 :</b></h2></div>

<div id="code1"><samp>  
    
   <b>import numpy as np  </b><br /> 
   <b>import cv2          </b><br /> 
   <b>import time         </b><br />
   <br />
   <b>face_cascade = cv2.CascadeClassifier('haarcascade_frontalface_default.xml')</b><br /> 
   <b>eye_cascade = cv2.CascadeClassifier('haarcascade_eye.xml')                 </b><br /> 
   <b>cap = cv2.VideoCapture(0)                                                  </b><br /> 
   <br />             
   <b>while 1:</b><br /> 
   <div style="text-indent:2em;"><b>ret, img = cap.read()</b><br /></div>
   <div style="text-indent:2em;"><b>gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)</b><br /> </div>
   <div style="text-indent:2em;"><b>faces = face_cascade.detectMultiScale(gray, 1.3, 5)</b><br /> </div>
   <br/>            
   <div style="text-indent:2em;"><b>for (x,y,w,h) in faces:</b><br /> </div>
   <div style="text-indent:4em;"><b>cv2.rectangle(img,(x,y),(x+w,y+h),(255,0,0),2)</b><br /> </div>
   <div style="text-indent:4em;"><b>roi_gray = gray[y:y+h, x:x+w]</b><br /> </div>
   <div style="text-indent:4em;"><b>roi_color = img[y:y+h, x:x+w]</b><br /> </div>
   <div style="text-indent:4em;"><b>cv2.imwrite(str(time.strftime('%Y-%m-%d %H:%M:%S',time.localtime(time.time()))) + '.jpg', img)</b><br /> </div>
   <div style="text-indent:4em;"><b>eyes = eye_cascade.detectMultiScale(roi_gray)</b><br /> </div> 
   <br/>
   <div style="text-indent:4em;"><b>for (ex,ey,ew,eh) in eyes:</b><br /> </div> 
   <div style="text-indent:6em;"><b>cv2.rectangle(roi_color,(ex,ey),(ex+ew,ey+eh),(0,255,0),2)</b><br /> </div> 
   <div style="text-indent:6em;"><b>cv2.imwrite(str(time.strftime('%Y-%m-%d %H:%M:%S',time.localtime(time.time()))) + '.jpg', img)</b><br /> </div>
   <div style="text-indent:2em;"><b>cv2.imshow('img',img)</b><br /> </div> 
   <br/>
   <br/>
   <div style="text-indent:2em;"><b>k = cv2.waitKey(30) & 0xff</b><br /> </div> 
   <div style="text-indent:2em;"><b>if k == 27:</b><br /> </div> 
   <div style="text-indent:4em;"><b>break</b><br /> </div> 
   <br/>
   <br/>
   <div style="text-indent:0em;"><b>cap.release()</b><br /> </div> 
   <div style="text-indent:0em;"><b>cv2.destroyAllWindows()</b><br /> </div>         
    
</samp></div>
            
                

    
<div class="row featurette">
    <div class="col-md-5">
        <div style="color:red;"class="title12">
            <h2 class="featurette-heading"><b>測試成果</b></h2>
        </div>
            <p class="text3"><b>將網路攝影機對著要監視的地方，最常用於自家門口的監控，例如:把它固定在家門前的上方，鏡頭朝下，讓鏡頭的範圍只有在家門前的那一小區塊，除了有人要來拜訪之外，基本上大部分的時間畫面都是相對靜止的，只有在畫面中偵測到的物體有很大的變動時，攝影機就會自動把有變動較大的畫面存成圖檔保存到指定的路徑，顯示年月份還有幾時幾分幾秒，這樣打開檔案就可以知道甚麼時候有人來過</b></p>
    </div>
        <div class="col-md-5">
            <video width="350" height="470" src="dr/webcam12.mp4" controls></video>
        </div>
</div>

    
    <hr class="featurette-divider">

    <p class="atop">
    <a href="#top" target="_self"><font color="red"><b>至最上層</b></font></a>
    </p>
        

    <hr class="featurette-divider">

       

<!-- FOOTER -->
<footer  id="footer">    
    <p>&copy; 2017-2018 Company, Inc. &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p>
</footer>
    
</div>    
</main>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
    <script src="assets/js/vendor/popper.min.js"></script>
    <script src="dist/js/bootstrap.min.js"></script>
    <!-- Just to make our placeholder images work. Don't actually copy the next line! -->
    <script src="assets/js/vendor/holder.min.js"></script>
  
    </body>
</html>

